---
import background from '../assets/background.svg'

import ExampleReact from './Examples/react'
import ExampleVue from './Examples/vue.vue'
---

<div class="relative w-full h-full">
  <!-- Content -->
  <div class="container mx-auto relative h-full">
    <!-- Astro Code -->
    <div class="w-full flex- flex-col gap-2 border-b border-amber-50/20 pb-8">
      <h1 class="prose-2xl text-7xl leading-20 drop-shadow-lg !text-amber-50">
        Astro con JS
      </h1>

      <!-- Astro Js -->
      <div class="flex items-center gap-4 justify-center">
        <!-- code -->
        <div class="w-full">
          <pre>
            <code class="language-javascript">
&#60;script&#62;
  const button: HTMLButtonElement | null =
  document.querySelector('#changeColorButton');

  if (button !== null) &#123;
    button.addEventListener("click", (e) => &#123;
      const target = e.target as HTMLButtonElement;

      // Change Color
      if (target.classList.contains("bg-amber-50")) &#123;
        target.style.backgroundColor = '#fffbeb';
        target.style.borderColor = '#ffb900';
        target.classList.add('active');
      &#125; else &#123;
        target.style.backgroundColor = '#ecfeff';
        target.style.borderColor = '#00b8db';
        target.classList.remove('active');
      &#125;
    &#125;);
  &#125;;
&#60;/script&#62;
            </code>
          </pre>
        </div>

        <!-- Button -->
        <div class="w-full items-center justify-center flex">
          <button
            id="changeColorButton"
            class="border border-amber-400 cursor-pointer bg-amber-50 px-4 py-2 hover:scale-105 transition-all active"
          >
            Cambio de color
          </button>

          <script>
            const button: HTMLButtonElement | null =
              document.querySelector('#changeColorButton')

            if (button !== null) {
              button.addEventListener('click', (e) => {
                const target = e.target as HTMLButtonElement

                // Change Color
                if (!target.classList.contains('active')) {
                  target.style.backgroundColor = '#fffbeb'
                  target.style.borderColor = '#ffb900'
                  target.classList.add('active')
                } else {
                  target.style.backgroundColor = '#ecfeff'
                  target.style.borderColor = '#00b8db'
                  target.classList.remove('active')
                }
              })
            }
          </script>
        </div>
      </div>
    </div>

    <!-- React Code -->
    <div class="w-full flex- flex-col gap-2 border-b border-amber-50/20 pb-8">
      <h1 class="prose-2xl text-7xl leading-20 drop-shadow-lg !text-amber-50">
        React useState
      </h1>

      <!-- React Js -->
      <div class="flex items-center gap-4 justify-center">
        <!-- code -->
        <div class="w-full">
          <pre>
            <code class="language-javascript">
import &#123; useState &#125; from 'react'

export default function ExampleReact()  &#123;
  const [count, setCount] = useState(0)

  return (
    &#60;div className="flex flex-col items-center justify-center gap-2 w-full"	&#62;
      &#60;p className="prose !text-amber-50"&#62;Ahora hay &#123;count&#125; cuentas&#60;/p&#62;

      &#60;button
        className="border w-fit border-amber-400 cursor-pointer bg-amber-50 px-4 py-2 hover:scale-105 transition-all"
        onClick=&#123;() =&#62; setCount(count + 1)&#125;
      &#62;
        Sumar
      &#60;/button&#62;

      &#60;button
        className="border w-fit border-amber-400 cursor-pointer bg-amber-50 px-4 py-2 hover:scale-105 transition-all"
        onClick=&#123;() =&#62; setCount(count - 1)&#125;
      &#62;
        Restar
      &#60;/button&#62;
    &#60;/div	&#62;
  )
&#125;
              </code>
            </pre>
        </div>

        <!-- Button -->
        <div class="w-full items-center justify-center flex">
          <ExampleReact client:load />
        </div>
      </div>
    </div>

    <!-- Vue Code -->
    <div class="w-full flex- flex-col gap-2 border-b border-amber-50/20 pb-8">
      <h1 class="prose-2xl text-7xl leading-20 drop-shadow-lg !text-amber-50">
        Vue useState
      </h1>

      <!-- Vue Js -->
      <div class="flex items-center gap-4 justify-center">
        <!-- code -->
        <div class="w-full">
          <pre>
            <code class="language-javascript">
&#60;script setup&#62;
import &#123; ref &#125; from 'vue'

// state
const count = ref(0)

// actions
function increment() &#123;
  count.value++
&#125;

// actions
function decrement() &#123;
  count.value--
&#125;
&#60;/script&#62;

<!-- view -->
&#60;template&#62;
  &#60;div class="flex flex-col items-center justify-center gap-2 w-full"&#62;
    &#60;p class="prose !text-amber-50"&#62;Ahora hay &#123;&#123; count &#125;&#125; cuentas&#60;/p&#62;

    &#60;button
      class="border w-fit border-amber-400 cursor-pointer bg-amber-50 px-4 py-2 hover:scale-105 transition-all"
      @click="increment"
    &#62;
      Sumar
    &#60;/button&#62;

    &#60;button
      class="border w-fit border-amber-400 cursor-pointer bg-amber-50 px-4 py-2 hover:scale-105 transition-all"
      @click="decrement"
    &#62;
      Restar
    &#60;/button&#62;
  &#60;/div&#62;
&#60;/template&#62;

              </code>
            </pre>
        </div>

        <!-- Button -->
        <div class="w-full items-center justify-center flex">
          <ExampleVue client:load />
        </div>
      </div>
    </div>
  </div>

  <!-- Images -->
  <img id="background" src={background.src} alt="" fetchpriority="high" />
</div>

<style>
  #background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    rotate: 180deg;
    filter: blur(100px);
  }
</style>
